<div class="container">
  <p style="color: green"><%= notice %></p>
  <% if policy(Attachment).new? %>
    <%= link_to "Back", event_path(@event), class: "btn btn-secondary" %>
  <% end %>
  <br>
  <br>
  <h1><%=@event.event_name %> </h1>

  <div class="attachment-index-photos m-4">
    <%= form_with url: event_attachments_path(@event), method: :get, class: "d-flex" do %>
      <%= select_tag "user_selected", options_from_collection_for_select(@event.users_with_attachments.uniq, "id", "email")
        # params[:query]
      %>
      <%= submit_tag "Find media by creator", class: "btn btn-primary" %>
    <% end %>
    <br>
    <% @event.attachments.first.posts.each do |attachment| %>
      <%# <% if attachment.attached? %>
        <%= link_to (cl_image_tag attachment.key, width: 400, height: 300, crop: :fill), attachment_path(attachment), class:%>
      <%# <%end %>
    <%end %>
  </div>

  <%#= link_to  new_event_attachment_path(@event), class: "floating-btn" do %>
      <button type="button" class="floating-btn" data-bs-toggle ="modal" data-bs-target="#exampleModal"><span class="material-icons">add</span></button>

<<<<<<< HEAD
                      <!-- The form -->
      <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5" id="exampleModalLabel">Upload your media</h1>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <%= simple_form_for [@event, @attachment] do |f| %>
                <%= f.input :posts, as: :file, input_html: { multiple: true } %>
                <div class="text-center">
                  <%= f.submit class:"btn btn-success" %>
                </div>
              <% end %>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss ="modal">Close</button>
            </div>
          </div>
        </div>
      </div>

  <%# end %>
</div>
=======
<%= form_with url: event_attachments_path(@event), method: :get, class: "d-flex" do %>
  <%= select_tag "user_selected", options_from_collection_for_select(@event.users_with_attachments.uniq, "id", "email")
    # params[:query]
  %>
  <%= submit_tag "Find media by creator", class: "btn btn-primary" %>
<% end %>

<% if @event.attachments.any? %>
  <% @event.attachments.each do |attachment| %>
    <% attachment.posts.each do |post| %>
      <%= link_to (cl_image_tag post.key, width: 400, height: 300, crop: :fill), attachment_path(attachment)%>
    <% end %>
  <% end %>
<% end %>
<%#= link_to  new_event_attachment_path(@event), class: "floating-btn" do %>
    <button type="button" class="floating-btn" data-bs-toggle ="modal" data-bs-target="#exampleModal"><span class="material-icons">add</span></button>

                    <!-- The form -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="exampleModalLabel">Upload your media</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
              <%= simple_form_for [@event, @attachment] do |f| %>
              <%= f.input :posts, as: :file, input_html: { multiple: true } %>
               <div class="text-center">
                <%= f.submit class:"btn btn-success" %>
              </div>
            <% end %>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss ="modal">Close</button>
          </div>
        </div>
      </div>
    </div>
<%# end %>
>>>>>>> 5fc7a8a0f168551e8449dcb5c0ddc71e7839a458
